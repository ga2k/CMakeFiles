# CMake package configuration (installed)
@PACKAGE_INIT@

include(CMakeFindDependencyMacro)

# We expose an imported target HoffSoft::<lib>> and keep third-party deps internal.
# This lets consumers just link HoffSoft::<lib> without needing to locate deps at configure time.

if(NOT TARGET @APP_VENDOR@::@APP_NAME@)
  add_library(@APP_VENDOR@::@APP_NAME@ SHARED IMPORTED)
endif()

# Resolve installed library path (cover common layouts)
set(_hs_prefix "${PACKAGE_PREFIX_DIR}")
set(_hs_common_lib @APP_VENDOR_LC@_@APP_NAME_LC@)
set(_hs_multi_lib @APP_VENDOR_LC@_@APP_NAME_LC@@MULTI_LIB_DECLARATOR@)

set(_candidates
  "${_hs_prefix}/lib/lib${_hs_common_lib}.so"
  "${_hs_prefix}/lib64/lib${_hs_common_lib}.so"
  "${_hs_prefix}/lib/lib${_hs_common_lib}.dynlib"
  "${_hs_prefix}/bin/${_hs_common_lib}.dll"
  "${_hs_prefix}/lib/${_hs_common_lib}.dll"

  "${_hs_prefix}/lib/lib${_hs_multi_lib}.so"
  "${_hs_prefix}/lib64/lib${_hs_multi_lib}.so"
)
set(_hs_lib "")
foreach(_c ${_candidates})
  if(EXISTS "${_c}")
    set(_hs_core_lib "${_c}")
    break()
  endif()
endforeach()
if(NOT _hs_lib)
  message(FATAL_ERROR "@APP_VENDOR@::@APP_NAME@ library not found under ${_hs_prefix}.")
endif()

set_target_properties(@APP_VENDOR@::@APP_NAME PROPERTIES
  IMPORTED_LOCATION "${_hs_lib}"
  INTERFACE_INCLUDE_DIRECTORIES "${_hs_prefix}/include"
)

# For Clang consumers of modules, provide prebuilt-module path automatically
if(CMAKE_CXX_COMPILER_ID MATCHES "Clang")
  target_compile_options(@APP_VENDOR@::@APP_NAME INTERFACE
    "-fprebuilt-module-path=${_hs_prefix}/share/cmake/cxx/pcm/@APP_VENDOR@/@APP_NAME@.dir"
  )
endif()

# Convenience variables
set(HoffSoft_INCLUDE_DIR  "${_hs_prefix}/include")
set(HoffSoft_INCLUDE_DIRS "${_hs_prefix}/include")
set(HoffSoft_LIBRARIES    @APP_VENDOR@::@APP_NAME)






# # HoffSoft CMake package configuration (installed)
# @PACKAGE_INIT@
#
# # We expose an imported target HoffSoft::Core and keep third-party deps internal.
# # This lets consumers just link HoffSoft::Core without needing to locate yaml-cpp at configure time.
#
# # Define imported target HoffSoft::Core for consumers
# if(NOT TARGET HoffSoft::Core)
#   add_library(HoffSoft::Core SHARED IMPORTED)
# endif()
#
# # Resolve installed library path (cover common layouts)
# set(_hs_prefix "${PACKAGE_PREFIX_DIR}")
# set(_candidates
#   "${_hs_prefix}/lib/libhoffsoft_core.so"
#   "${_hs_prefix}/lib64/libhoffsoft_core.so"
#   "${_hs_prefix}/lib/libhoffsoft_core.dylib"
#   "${_hs_prefix}/bin/hoffsoft_core.dll"
#   "${_hs_prefix}/lib/hoffsoft_core.dll"
# )
# set(_hs_core_lib "")
# foreach(_c ${_candidates})
#   if(EXISTS "${_c}")
#     set(_hs_core_lib "${_c}")
#     break()
#   endif()
# endforeach()
# if(NOT _hs_core_lib)
#   message(FATAL_ERROR "HoffSoft::Core library not found under ${_hs_prefix}.")
# endif()
#
# set_target_properties(HoffSoft::Core PROPERTIES
#   IMPORTED_LOCATION "${_hs_core_lib}"
#   INTERFACE_INCLUDE_DIRECTORIES "${_hs_prefix}/include"
# )
#
# # For Clang consumers of modules, provide prebuilt-module path automatically
# if(CMAKE_CXX_COMPILER_ID MATCHES "Clang")
#   target_compile_options(HoffSoft::Core INTERFACE
#     "-fprebuilt-module-path=${_hs_prefix}/share/cmake/cxx/pcm/HoffSoft/Core.dir"
#   )
# endif()
#
# # Convenience variables
# set(HoffSoft_INCLUDE_DIR  "${_hs_prefix}/include")
# set(HoffSoft_INCLUDE_DIRS "${_hs_prefix}/include")
# set(HoffSoft_LIBRARIES    HoffSoft::Core)